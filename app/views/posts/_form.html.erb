
<!--
notice that:
previously in new.html.erb is form_for :article do |f|
previously in edit.html.erb is form_for :article, url: article_path(@article), method: :patch do |f|
now is form_for @article do |f|

doc says that @article is a resource, rails can determine which url to use if the resource match the REST routes,
actually that means, rails will generate forms with different post urls, like:
new action:
<form accept-charset="UTF-8" action="/posts" class="new_article" id="new_article" method="post">
edit action:
<form accept-charset="UTF-8" action="/posts/5" class="edit_article" id="edit_article_5" method="post">
according to rake routes, we will know new action will post to posts#create, while edit action will post to posts#update
(PATCH  /posts/:id(.:format)      posts#update)
-->

<% @post ||= @user.posts.build %>

<%= form_for ([@user, @post]) do |f| %>

	<p>
		<%= f.label :title %> <br>
		<%= f.text_field :title %>
	</p>

	<p>
		<%= f.label :text %> <br>
		<%= f.text_area :text %>
	</p>

	<p>
		<%= f.submit %>
	</p>

<% end %>
