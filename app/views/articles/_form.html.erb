
<!--
notice that:
previouly in new.html.erb is form_for :article do |f|
previouly in edit.html.erb is form_for :article, url: article_path(@article), method: :patch do |f|
now is form_for @article do |f|

doc says that @article is a resource, rails can determine which url to use if the resource match the REST routes,
actually that means, rails will generate forms with different post urls, like:
new action:
<form accept-charset="UTF-8" action="/articles" class="new_article" id="new_article" method="post">
edit action:
<form accept-charset="UTF-8" action="/articles/5" class="edit_article" id="edit_article_5" method="post">
according to rake routes, we will know new action will post to articles#create, while edit action will post to articles#update
(PATCH  /articles/:id(.:format)      articles#update)
-->

<%= form_for [@user, @user.articles.build] do |f| %>

    <% if @article.present? && @article.errors.any? %>
        <div id="error_explanation">
            <h2>
              <%= pluralize(@article.errors.count, "error") %> prohibited this article from being saved:
            </h2>
            <ul>
              <% @article.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
              <% end %>
            </ul>
        </div>
    <% end %>

	<p>
		<%= f.label :title %> <br>
		<%= f.text_field :title %>
	</p>

	<p>
		<%= f.label :text %> <br>
		<%= f.text_area :text %>
	</p>

	<p>
		<%= f.submit %>
	</p>

<% end %>
